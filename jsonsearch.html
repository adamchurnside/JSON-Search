
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <title>JSON Search</title>
</head>
<body>
    <h1>Location Search</h1>
    <input type="text" id="txt-search" placeholder="Type your search character">
    <div id="filter-records"></div>
</body>
</html>
<script type="text/javascript">
    $(document).ready(function () {

        var locations = $.getJSON('locations.json'); // add this somewhere global

        $('#txt-search').keyup(function () {

            var searchField = $('#txt-search').val();
            var regExp = new RegExp(searchField, "i");
            locations.then(function (data) { // change this one line
                var result = ""
                $.each(data.locations, function (key, val) {

                    if (val.title.search(regExp) != -1) {
                        result += '<p>' + val.title; '</p>';
                    }
                });
                $('#filter-records').html(result);
            });
        });
    });
</script>
